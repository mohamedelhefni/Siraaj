import"../chunks/DsnmJJEf.js";import{a5 as ne,w as et,y as x,q as Ve,ac as Ee,c as t,m as te,aE as Lt,aF as ma,aG as ya,v as q,e as P,D as _,z as Be,l as xe,at as _a,ad as xt,R as Nt,aH as xa,A as L,x as vt,C as F,aD as Z,F as tt,ag as it,af as ba}from"../chunks/O2hWaw8P.js";import{l as Ne,s as He,p as be,b as $e,i as Tt}from"../chunks/WgIz-FMk.js";import{I as Ye,s as Ge,f as ct,g as Jt,e as ue,B as we,n as $a,o as wa,i as de,h as ka,l as ke,a as Me,X as Pe,C as Ut,c as Ot,d as zt,k as It,b as Ae}from"../chunks/ml2ZVc1l.js";import{i as Ce,e as Ma,c as Fe,a as Re,r as Le,d as Pa}from"../chunks/xdZuYv8w.js";import{i as Aa}from"../chunks/Cle0zuRC.js";import{i as We,r as Ca,w as Fa,c as ut,a as Ra,s as bt,m as La,l as Ta,b as ja,d as Sa,q as Te,e as Ht,f as je,g as fe,R as Da}from"../chunks/4t-QF-LS.js";function Ua(e,a){const r=Ne(a,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.546.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const n=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16"}],["path",{d:"M18 17V9"}],["path",{d:"M13 17V5"}],["path",{d:"M8 17v-3"}]];Ye(e,He({name:"chart-column"},()=>r,{get iconNode(){return n},children:(c,d)=>{var m=ne(),s=et(m);Ge(s,a,"default",{}),x(c,m)},$$slots:{default:!0}}))}function Oa(e,a){const r=Ne(a,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.546.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const n=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}]];Ye(e,He({name:"chart-pie"},()=>r,{get iconNode(){return n},children:(c,d)=>{var m=ne(),s=et(m);Ge(s,a,"default",{}),x(c,m)},$$slots:{default:!0}}))}class Se extends Map{constructor(a,r=qa){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),a!=null)for(const[n,c]of a)this.set(n,c)}get(a){return super.get(De(this,a))}has(a){return super.has(De(this,a))}set(a,r){return super.set(za(this,a),r)}delete(a){return super.delete(Ia(this,a))}}function De({_intern:e,_key:a},r){const n=a(r);return e.has(n)?e.get(n):r}function za({_intern:e,_key:a},r){const n=a(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Ia({_intern:e,_key:a},r){const n=a(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function qa(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Ue(e,a){let r=0;if(a===void 0)for(let n of e)(n=+n)&&(r+=n);else{let n=-1;for(let c of e)(c=+a(c,++n,e))&&(r+=c)}return r}var he=1.70158;(function e(a){a=+a;function r(n){return(n=+n)*n*(a*(n-1)+n)}return r.overshoot=e,r})(he);var pe=(function e(a){a=+a;function r(n){return--n*n*((n+1)*a+n)+1}return r.overshoot=e,r})(he);(function e(a){a=+a;function r(n){return((n*=2)<1?n*n*((a+1)*n-a):(n-=2)*n*((a+1)*n+a)+2)/2}return r.overshoot=e,r})(he);const Oe=Symbol("implicit");function Xe(){var e=new Se,a=[],r=[],n=Oe;function c(d){let m=e.get(d);if(m===void 0){if(n!==Oe)return n;e.set(d,m=a.push(d)-1)}return r[m%r.length]}return c.domain=function(d){if(!arguments.length)return a.slice();a=[],e=new Se;for(const m of d)e.has(m)||e.set(m,a.push(m)-1);return c},c.range=function(d){return arguments.length?(r=Array.from(d),c):r.slice()},c.unknown=function(d){return arguments.length?(n=d,c):n},c.copy=function(){return Xe(a,r).unknown(n)},We.apply(c,arguments),c}function Je(){var e=Xe().unknown(void 0),a=e.domain,r=e.range,n=0,c=1,d,m,s=!1,M=0,b=0,u=.5;delete e.unknown;function C(){var p=a().length,l=c<n,y=l?c:n,$=l?n:c;d=($-y)/Math.max(1,p-M+b*2),s&&(d=Math.floor(d)),y+=($-y-d*(p-M))*u,m=d*(1-M),s&&(y=Math.round(y),m=Math.round(m));var B=Ca(p).map(function(R){return y+d*R});return r(l?B.reverse():B)}return e.domain=function(p){return arguments.length?(a(p),C()):a()},e.range=function(p){return arguments.length?([n,c]=p,n=+n,c=+c,C()):[n,c]},e.rangeRound=function(p){return[n,c]=p,n=+n,c=+c,s=!0,C()},e.bandwidth=function(){return m},e.step=function(){return d},e.round=function(p){return arguments.length?(s=!!p,C()):s},e.padding=function(p){return arguments.length?(M=Math.min(1,b=+p),C()):M},e.paddingInner=function(p){return arguments.length?(M=Math.min(1,p),C()):M},e.paddingOuter=function(p){return arguments.length?(b=+p,C()):b},e.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),C()):u},e.copy=function(){return Je(a(),[n,c]).round(s).paddingInner(M).paddingOuter(b).align(u)},We.apply(C(),arguments)}const ze=Math.abs,rt=Math.atan2,qt=Math.cos,Va=Math.max,ve=Math.min,Pt=Math.sin,Yt=Math.sqrt,ht=1e-12,Kt=Math.PI,re=Kt/2,ae=2*Kt;function Ea(e){return e>1?0:e<-1?Kt:Math.acos(e)}function Ie(e){return e>=1?re:e<=-1?-re:Math.asin(e)}function Ba(e){return e.innerRadius}function Na(e){return e.outerRadius}function Ha(e){return e.startAngle}function Ya(e){return e.endAngle}function Ga(e){return e&&e.padAngle}function Wa(e,a,r,n,c,d,m,s){var M=r-e,b=n-a,u=m-c,C=s-d,p=C*M-u*b;if(!(p*p<ht))return p=(u*(a-d)-C*(e-c))/p,[e+p*M,a+p*b]}function ee(e,a,r,n,c,d,m){var s=e-r,M=a-n,b=(m?d:-d)/Yt(s*s+M*M),u=b*M,C=-b*s,p=e+u,l=a+C,y=r+u,$=n+C,B=(p+y)/2,R=(l+$)/2,N=y-p,g=$-l,f=N*N+g*g,S=c-d,A=p*$-y*l,U=(g<0?-1:1)*Yt(Va(0,S*S*f-A*A)),T=(A*g-N*U)/f,V=(-A*N-g*U)/f,H=(A*g+N*U)/f,D=(-A*N+g*U)/f,E=T-B,h=V-R,w=H-B,st=D-R;return E*E+h*h>w*w+st*st&&(T=H,V=D),{cx:T,cy:V,x01:-u,y01:-C,x11:T*(c/S-1),y11:V*(c/S-1)}}function qe(){var e=Ba,a=Na,r=ut(0),n=null,c=Ha,d=Ya,m=Ga,s=null,M=Fa(b);function b(){var u,C,p=+e.apply(this,arguments),l=+a.apply(this,arguments),y=c.apply(this,arguments)-re,$=d.apply(this,arguments)-re,B=ze($-y),R=$>y;if(s||(s=u=M()),l<p&&(C=l,l=p,p=C),!(l>ht))s.moveTo(0,0);else if(B>ae-ht)s.moveTo(l*qt(y),l*Pt(y)),s.arc(0,0,l,y,$,!R),p>ht&&(s.moveTo(p*qt($),p*Pt($)),s.arc(0,0,p,$,y,R));else{var N=y,g=$,f=y,S=$,A=B,U=B,T=m.apply(this,arguments)/2,V=T>ht&&(n?+n.apply(this,arguments):Yt(p*p+l*l)),H=ve(ze(l-p)/2,+r.apply(this,arguments)),D=H,E=H,h,w;if(V>ht){var st=Ie(V/p*Pt(T)),ot=Ie(V/l*Pt(T));(A-=st*2)>ht?(st*=R?1:-1,f+=st,S-=st):(A=0,f=S=(y+$)/2),(U-=ot*2)>ht?(ot*=R?1:-1,N+=ot,g-=ot):(U=0,N=g=(y+$)/2)}var o=l*qt(N),j=l*Pt(N),at=p*qt(S),dt=p*Pt(S);if(H>ht){var jt=l*qt(g),St=l*Pt(g),Vt=p*qt(f),Et=p*Pt(f),gt;if(B<Kt)if(gt=Wa(o,j,Vt,Et,jt,St,at,dt)){var Bt=o-gt[0],At=j-gt[1],Gt=jt-gt[0],Dt=St-gt[1],Qt=1/Pt(Ea((Bt*Gt+At*Dt)/(Yt(Bt*Bt+At*At)*Yt(Gt*Gt+Dt*Dt)))/2),Wt=Yt(gt[0]*gt[0]+gt[1]*gt[1]);D=ve(H,(p-Wt)/(Qt-1)),E=ve(H,(l-Wt)/(Qt+1))}else D=E=0}U>ht?E>ht?(h=ee(Vt,Et,o,j,l,E,R),w=ee(jt,St,at,dt,l,E,R),s.moveTo(h.cx+h.x01,h.cy+h.y01),E<H?s.arc(h.cx,h.cy,E,rt(h.y01,h.x01),rt(w.y01,w.x01),!R):(s.arc(h.cx,h.cy,E,rt(h.y01,h.x01),rt(h.y11,h.x11),!R),s.arc(0,0,l,rt(h.cy+h.y11,h.cx+h.x11),rt(w.cy+w.y11,w.cx+w.x11),!R),s.arc(w.cx,w.cy,E,rt(w.y11,w.x11),rt(w.y01,w.x01),!R))):(s.moveTo(o,j),s.arc(0,0,l,N,g,!R)):s.moveTo(o,j),!(p>ht)||!(A>ht)?s.lineTo(at,dt):D>ht?(h=ee(at,dt,jt,St,p,-D,R),w=ee(o,j,Vt,Et,p,-D,R),s.lineTo(h.cx+h.x01,h.cy+h.y01),D<H?s.arc(h.cx,h.cy,D,rt(h.y01,h.x01),rt(w.y01,w.x01),!R):(s.arc(h.cx,h.cy,D,rt(h.y01,h.x01),rt(h.y11,h.x11),!R),s.arc(0,0,p,rt(h.cy+h.y11,h.cx+h.x11),rt(w.cy+w.y11,w.cx+w.x11),R),s.arc(w.cx,w.cy,D,rt(w.y11,w.x11),rt(w.y01,w.x01),!R))):s.arc(0,0,p,S,f,R)}if(s.closePath(),u)return s=null,u+""||null}return b.centroid=function(){var u=(+e.apply(this,arguments)+ +a.apply(this,arguments))/2,C=(+c.apply(this,arguments)+ +d.apply(this,arguments))/2-Kt/2;return[qt(C)*u,Pt(C)*u]},b.innerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:ut(+u),b):e},b.outerRadius=function(u){return arguments.length?(a=typeof u=="function"?u:ut(+u),b):a},b.cornerRadius=function(u){return arguments.length?(r=typeof u=="function"?u:ut(+u),b):r},b.padRadius=function(u){return arguments.length?(n=u==null?null:typeof u=="function"?u:ut(+u),b):n},b.startAngle=function(u){return arguments.length?(c=typeof u=="function"?u:ut(+u),b):c},b.endAngle=function(u){return arguments.length?(d=typeof u=="function"?u:ut(+u),b):d},b.padAngle=function(u){return arguments.length?(m=typeof u=="function"?u:ut(+u),b):m},b.context=function(u){return arguments.length?(s=u??null,b):s},b}function Xa(e,a){return a<e?-1:a>e?1:a>=e?0:NaN}function Ja(e){return e}function Ka(){var e=Ja,a=Xa,r=null,n=ut(0),c=ut(ae),d=ut(0);function m(s){var M,b=(s=Ra(s)).length,u,C,p=0,l=new Array(b),y=new Array(b),$=+n.apply(this,arguments),B=Math.min(ae,Math.max(-ae,c.apply(this,arguments)-$)),R,N=Math.min(Math.abs(B)/b,d.apply(this,arguments)),g=N*(B<0?-1:1),f;for(M=0;M<b;++M)(f=y[l[M]=M]=+e(s[M],M,s))>0&&(p+=f);for(a!=null?l.sort(function(S,A){return a(y[S],y[A])}):r!=null&&l.sort(function(S,A){return r(s[S],s[A])}),M=0,C=p?(B-b*g)/p:0;M<b;++M,$=R)u=l[M],f=y[u],R=$+(f>0?f*C:0)+g,y[u]={data:s[u],index:M,value:f,startAngle:$,endAngle:R,padAngle:N};return y}return m.value=function(s){return arguments.length?(e=typeof s=="function"?s:ut(+s),m):e},m.sortValues=function(s){return arguments.length?(a=s,r=null,m):a},m.sort=function(s){return arguments.length?(r=s,a=null,m):r},m.startAngle=function(s){return arguments.length?(n=typeof s=="function"?s:ut(+s),m):n},m.endAngle=function(s){return arguments.length?(c=typeof s=="function"?s:ut(+s),m):c},m.padAngle=function(s){return arguments.length?(d=typeof s=="function"?s:ut(+s),m):d},m}var Qa=q('<div class="chart-container svelte-1i8eu4w"></div> <div class="tooltip"></div>',1);function Za(e,a){Ve(a,!1);let r=be(a,"data",24,()=>[]),n=be(a,"chartType",8,"pie"),c=te(),d=te();const m={Direct:"#3b82f6",Paid:"#ef4444","google.com":"#4285f4","facebook.com":"#1877f2","twitter.com":"#1da1f2","linkedin.com":"#0077b5","youtube.com":"#ff0000","instagram.com":"#e4405f","github.com":"#24292e","reddit.com":"#ff4500","pinterest.com":"#bd081c","tiktok.com":"#000000",Unknown:"#6b7280"};function s(g){if(m[g])return m[g];let f=0;for(let A=0;A<g.length;A++){const U=g.charCodeAt(A);f=(f<<5)-f+U,f=f&f}return`hsl(${Math.abs(f)%360}, 65%, 50%)`}function M(){if(!t(c)||r().length===0)return;const g=bt(t(c)).selectAll("svg").empty();g&&bt(t(c)).selectAll("*").remove();const f={top:20,right:20,bottom:80,left:100},S=t(c).clientWidth-f.left-f.right,A=400-f.top-f.bottom;let U=bt(t(c)).select("svg");U.empty()?U=bt(t(c)).append("svg").attr("width",S+f.left+f.right).attr("height",A+f.top+f.bottom).style("background","transparent"):U.attr("width",S+f.left+f.right).attr("height",A+f.top+f.bottom);let T=U.select("g.chart-group");T.empty()&&(T=U.append("g").attr("class","chart-group").attr("transform",`translate(${f.left},${f.top})`));const V=Je().domain(r().map(o=>o.channel||"Unknown")).range([0,S]).padding(.3),H=La(r(),o=>o.total_events||0)||0,D=Ta().domain([0,H*1.1]).range([A,0]),E=T.selectAll(".grid-line").data(D.ticks(5));E.enter().append("line").attr("class","grid-line").attr("stroke","#f1f5f9").attr("stroke-width",1).attr("opacity",.6).merge(E).transition().duration(g?0:500).attr("x1",0).attr("x2",S).attr("y1",o=>D(o)).attr("y2",o=>D(o)),E.exit().remove();const h=T.selectAll(".x-axis").data([null]);h.enter().append("g").attr("class","x-axis").merge(h).attr("transform",`translate(0,${A})`).transition().duration(g?0:500).call(ja(V).tickSize(0)).selectAll("text").attr("transform","rotate(-45)").style("text-anchor","end").style("font-size","12px").style("font-weight","500").style("fill","#64748b");const w=T.selectAll(".y-axis").data([null]);w.enter().append("g").attr("class","y-axis").merge(w).transition().duration(g?0:500).call(Sa(D).ticks(5).tickSize(0).tickFormat(o=>o.toLocaleString())).selectAll("text").style("font-size","12px").style("font-weight","500").style("fill","#64748b"),T.selectAll(".domain").remove();const st=T.selectAll(".bar").data(r(),o=>o.channel);st.enter().append("rect").attr("class","bar").attr("x",o=>V(o.channel||"Unknown")||0).attr("y",A).attr("width",V.bandwidth()).attr("height",0).attr("fill",o=>s(o.channel||"Unknown")).attr("rx",4).style("cursor","pointer").style("opacity",.9).on("mouseenter",function(o,j){bt(this).transition().duration(200).style("opacity",1).attr("transform","translateY(-2px)"),u(o,j)}).on("mousemove",o=>C(o)).on("mouseleave",function(){bt(this).transition().duration(200).style("opacity",.9).attr("transform","translateY(0px)"),p()}).merge(st).transition().duration(g?800:500).ease(g?pe.overshoot(.1):Te).attr("x",o=>V(o.channel||"Unknown")||0).attr("y",o=>D(o.total_events||0)).attr("width",V.bandwidth()).attr("height",o=>A-D(o.total_events||0)),st.exit().transition().duration(300).attr("y",A).attr("height",0).style("opacity",0).remove();const ot=T.selectAll(".label").data(r(),o=>o.channel);ot.enter().append("text").attr("class","label").attr("x",o=>(V(o.channel||"Unknown")||0)+V.bandwidth()/2).attr("y",A).attr("text-anchor","middle").style("font-size","11px").style("font-weight","600").style("fill","#475569").style("opacity",0).text(o=>(o.total_events||0).toLocaleString()).merge(ot).text(o=>(o.total_events||0).toLocaleString()).transition().duration(g?800:500).delay(g?300:0).ease(g?pe:Te).attr("x",o=>(V(o.channel||"Unknown")||0)+V.bandwidth()/2).attr("y",o=>D(o.total_events||0)-8).style("opacity",1),ot.exit().transition().duration(300).style("opacity",0).remove()}function b(){if(!t(c)||r().length===0)return;bt(t(c)).selectAll("svg").empty()&&bt(t(c)).selectAll("*").remove();const f=t(c).clientWidth,S=400,A=Math.min(f,S)/2-80;let U=bt(t(c)).select("svg");U.empty()?U=bt(t(c)).append("svg").attr("width",f).attr("height",S).style("background","transparent"):U.attr("width",f).attr("height",S);let T=U.select("g.pie-group");T.empty()&&(T=U.append("g").attr("class","pie-group").attr("transform",`translate(${f/2-120},${S/2})`));const V=Ue(r(),o=>o.total_events||0),H=Ka().value(o=>o.total_events||0).sort(null).padAngle(.005),D=qe().innerRadius(A*.5).outerRadius(A),E=qe().innerRadius(A*.5).outerRadius(A+8),h=T.selectAll(".slice").data(H(r())).join("g").attr("class","slice");h.append("path").attr("fill",o=>s(o.data.channel||"Unknown")).style("cursor","pointer").style("opacity",.95).on("mouseenter",function(o,j){bt(this).transition().duration(200).ease(Ht).attr("d",E).style("opacity",1),u(o,j.data)}).on("mousemove",o=>C(o)).on("mouseleave",function(){bt(this).transition().duration(200).ease(Ht).attr("d",D).style("opacity",.95),p()}).attr("d",D).style("opacity",0).style("transform","scale(0)").transition().duration(800).delay((o,j)=>j*100).ease(pe.overshoot(.3)).style("opacity",.95).style("transform","scale(1)"),h.append("text").attr("transform",o=>{const[j,at]=D.centroid(o);return`translate(${j},${at})`}).attr("text-anchor","middle").style("font-size","12px").style("font-weight","700").style("fill","#ffffff").style("text-shadow","0 1px 2px rgba(0,0,0,0.7)").style("pointer-events","none").text(o=>{const j=(o.data.total_events/V*100).toFixed(1);return j>4?`${j}%`:""}).style("opacity",0).transition().duration(600).delay((o,j)=>j*100+400).ease(Ht).style("opacity",1);const w=T.append("g").attr("class","center-label");w.append("text").attr("text-anchor","middle").attr("dy","-0.3em").style("font-size","28px").style("font-weight","800").style("fill","#1e293b").text(V.toLocaleString()).style("opacity",0).transition().duration(600).delay(800).ease(Ht).style("opacity",1),w.append("text").attr("text-anchor","middle").attr("dy","1.2em").style("font-size","14px").style("font-weight","500").style("fill","#64748b").text("Total Events").style("opacity",0).transition().duration(600).delay(900).ease(Ht).style("opacity",1);const ot=U.append("g").attr("transform",`translate(${f-200}, 40)`).selectAll(".legend-item").data(r().slice(0,8)).join("g").attr("class","legend-item").attr("transform",(o,j)=>`translate(0, ${j*24})`).style("cursor","pointer").style("opacity",0);ot.append("rect").attr("x",0).attr("y",0).attr("width",12).attr("height",12).attr("rx",2).attr("fill",o=>s(o.channel||"Unknown")),ot.append("text").attr("x",18).attr("y",6).attr("dy","0.35em").style("font-size","12px").style("font-weight","500").style("fill","#1e293b").text(o=>{const j=(o.total_events/V*100).toFixed(1),at=o.channel||"Unknown";return`${at.length>15?at.substring(0,15)+"...":at} (${j}%)`}),ot.transition().duration(400).delay((o,j)=>j*80+600).ease(Ht).style("opacity",1),ot.on("mouseenter",function(o,j){const at=r().findIndex(dt=>dt.channel===j.channel);at>=0&&(T.selectAll(".slice path").style("opacity",.4),T.select(`.slice:nth-child(${at+1}) path`).style("opacity",1).transition().duration(150).attr("d",E)),u(o,j)}).on("mouseleave",function(){T.selectAll(".slice path").style("opacity",.95).transition().duration(150).attr("d",D),p()})}function u(g,f){if(!t(d))return;const S=Ue(r(),U=>U.total_events||0),A=(f.total_events/S*100).toFixed(1);Lt(d,t(d).innerHTML=`
			<div class="tooltip-header">
				<div class="tooltip-indicator" style="background-color: ${s(f.channel||"Unknown")}"></div>
				<span class="tooltip-title">${f.channel||"Unknown"}</span>
				<span class="tooltip-percentage">${A}%</span>
			</div>
			<div class="tooltip-metrics">
				<div class="tooltip-metric">
					<span class="metric-label">Events</span>
					<span class="metric-value">${(f.total_events||0).toLocaleString()}</span>
				</div>
				<div class="tooltip-metric">
					<span class="metric-label">Users</span>
					<span class="metric-value">${(f.unique_users||0).toLocaleString()}</span>
				</div>
				<div class="tooltip-metric">
					<span class="metric-label">Visits</span>
					<span class="metric-value">${(f.total_visits||0).toLocaleString()}</span>
				</div>
				<div class="tooltip-metric">
					<span class="metric-label">Page Views</span>
					<span class="metric-value">${(f.page_views||0).toLocaleString()}</span>
				</div>
			</div>
		`),Lt(d,t(d).style.display="block"),Lt(d,t(d).style.opacity="1"),C(g)}function C(g){t(d)&&(Lt(d,t(d).style.left=g.pageX+10+"px"),Lt(d,t(d).style.top=g.pageY+10+"px"))}function p(){t(d)&&(Lt(d,t(d).style.opacity="0"),setTimeout(()=>{t(d)&&t(d).style.opacity==="0"&&Lt(d,t(d).style.display="none")},200))}function l(){n()==="bar"?M():b()}let y=te(""),$=te("");Ee(()=>{r().length>0&&l();const g=()=>{r().length>0&&l()};return window.addEventListener("resize",g),()=>{window.removeEventListener("resize",g),t(d)&&(Lt(d,t(d).style.display="none"),Lt(d,t(d).style.opacity="0"))}}),ma(()=>(xe(r()),t(c),t(y),xe(n()),t($)),()=>{const g=JSON.stringify(r());t(c)&&(g!==t(y)||n()!==t($))&&(P(y,g),P($,n()),l())}),ya(),Aa();var B=Qa(),R=et(B);$e(R,g=>P(c,g),()=>t(c));var N=_(R,2);$e(N,g=>P(d,g),()=>t(d)),x(e,B),Be()}var tn=(e,a)=>{const r=e.target;a(r.value)},en=q("<option> </option>"),an=(e,a)=>a(),nn=(e,a)=>a(),rn=q('<div class="flex items-center gap-2 rounded-lg border p-2"><input type="date" class="border-none text-sm focus:outline-none"/> <span class="text-muted-foreground">to</span> <input type="date" class="border-none text-sm focus:outline-none"/></div>'),sn=(e,a,r)=>{const n=e.target;n.value?a("project",n.value):r("project")},on=q("<option> </option>"),ln=q('<div class="flex items-center gap-2"><span class="text-sm font-medium">Project:</span> <select class="border-input bg-background focus-visible:ring-ring flex h-9 rounded-md border px-3 py-1 text-sm shadow-sm focus-visible:outline-none focus-visible:ring-1"><option>All Projects</option><!></select></div>'),cn=(e,a,r)=>{const n=e.target;n.value?a("botFilter",n.value):r("botFilter")},un=(e,a,r)=>{P(a,"pie"),r()},dn=(e,a,r)=>{P(a,"bar"),r()},fn=q("<!> Refresh",1),pn=q('<span class="text-muted-foreground whitespace-nowrap text-xs"> </span>'),vn=(e,a)=>a("project"),hn=q(' <button class="hover:text-destructive ml-1"><!></button>',1),gn=(e,a)=>a("botFilter"),mn=q(' <button class="hover:text-destructive ml-1"><!></button>',1),yn=q('<div class="flex flex-wrap items-center gap-2"><span class="text-muted-foreground text-sm">Active Filters:</span> <!> <!> <!></div>'),_n=q('<div class="flex items-center justify-center py-20"><div class="text-center"><div class="inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-r-transparent motion-reduce:animate-[spin_1.5s_linear_infinite]"></div> <p class="text-muted-foreground mt-4">Loading channel data...</p></div></div>'),xn=q("<!> <!>",1),bn=q("<!> <!>",1),$n=q("<!> <!>",1),wn=q("<!> <!>",1),kn=q("<!> <!>",1),Mn=q("<!> <!>",1),Pn=q('<div class="text-muted-foreground flex h-[400px] items-center justify-center"><p>No channel data available for the selected period.</p></div>'),An=q("<!> <!>",1),Cn=q("<!> <!>",1),Fn=q('<tr class="border-b last:border-0"><td class="py-3 font-medium"><div class="flex items-center gap-2"><div class="h-3 w-3 rounded-full"></div> </div></td><td class="py-3 text-right"> </td><td class="py-3 text-right"> </td><td class="py-3 text-right"> </td><td class="py-3 text-right"> </td><td class="py-3 text-right"> </td><td class="py-3 text-right"> </td></tr>'),Rn=q('<div class="overflow-x-auto"><table class="w-full text-sm"><thead><tr class="border-b"><th class="pb-2 text-left font-medium">Channel</th><th class="pb-2 text-right font-medium">Events</th><th class="pb-2 text-right font-medium">Users</th><th class="pb-2 text-right font-medium">Visits</th><th class="pb-2 text-right font-medium">Page Views</th><th class="pb-2 text-right font-medium">Views/Visit</th><th class="pb-2 text-right font-medium">% of Total</th></tr></thead><tbody></tbody></table></div>'),Ln=q("<!> <!>",1),Tn=q('<div class="grid gap-4 md:grid-cols-4"><!> <!> <!> <!></div> <!> <!>',1),jn=q('<div class="container mx-auto space-y-4 p-6"><div class="flex flex-wrap items-center justify-between gap-4"><div class="flex items-center gap-4"><h1 class="text-2xl font-bold">ðŸ“Š Traffic Channels</h1></div></div> <div class="flex flex-wrap items-center gap-3"><div class="flex items-center gap-2"><span class="text-sm font-medium">Period:</span> <select class="border-input bg-background focus-visible:ring-ring flex h-9 rounded-md border px-3 py-1 text-sm shadow-sm focus-visible:outline-none focus-visible:ring-1"></select></div> <!> <!> <div class="flex items-center gap-2"><span class="text-sm font-medium">Traffic:</span> <select class="border-input bg-background focus-visible:ring-ring flex h-9 rounded-md border px-3 py-1 text-sm shadow-sm focus-visible:outline-none focus-visible:ring-1"><option>All Traffic</option><option>ðŸ‘¤ Human Only</option><option>ðŸ¤– Bots Only</option></select></div> <div class="ml-auto flex items-center gap-2"><span class="text-sm font-medium">Chart:</span> <div class="bg-muted flex gap-1 rounded-lg p-1"><button><!></button> <button><!></button></div></div> <div class="flex items-center gap-2"><!> <!></div></div> <!> <!></div>');function Vn(e,a){Ve(a,!0);const r={Direct:"#3b82f6",Paid:"#ef4444","google.com":"#4285f4","facebook.com":"#1877f2","twitter.com":"#1da1f2","linkedin.com":"#0077b5","youtube.com":"#ff0000","instagram.com":"#e4405f","github.com":"#24292e","reddit.com":"#ff4500","pinterest.com":"#bd081c","tiktok.com":"#000000",Unknown:"#6b7280"};function n(i){if(r[i])return r[i];let v=0;for(let I=0;I<i.length;I++){const Y=i.charCodeAt(I);v=(v<<5)-v+Y,v=v&v}return`hsl(${Math.abs(v)%360}, 65%, 50%)`}let c=xt(Nt([])),d=xt(Nt([])),m=xt(!0),s=xt(null),M=xt(null),b=xt(Nt(new Date)),u=xt("pie"),C=xt("last_7_days");const p=[{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"last_7_days",label:"Last 7 days"},{value:"last_30_days",label:"Last 30 days"},{value:"this_month",label:"This month"},{value:"last_month",label:"Last month"},{value:"last_3_months",label:"Last 3 months"},{value:"this_year",label:"This year"},{value:"custom",label:"Custom range"}];let l=xt(Nt({project:null,country:null,browser:null,device:null,os:null,botFilter:null})),y=xt(Nt(ct(Jt(new Date,7),"yyyy-MM-dd"))),$=xt(Nt(ct(new Date,"yyyy-MM-dd"))),B=xt(!1);function R(i){const v=new Date,k=ct(v,"yyyy-MM-dd");switch(i){case"today":P(y,k,!0),P($,k,!0);break;case"yesterday":const I=Jt(v,1);P(y,ct(I,"yyyy-MM-dd"),!0),P($,ct(I,"yyyy-MM-dd"),!0);break;case"last_7_days":P(y,ct(Jt(v,7),"yyyy-MM-dd"),!0),P($,k,!0);break;case"last_30_days":P(y,ct(Jt(v,30),"yyyy-MM-dd"),!0),P($,k,!0);break;case"this_month":P(y,ct(fe(v),"yyyy-MM-dd"),!0),P($,k,!0);break;case"last_month":const Y=fe(je(v,1)),nt=Jt(fe(v),1);P(y,ct(Y,"yyyy-MM-dd"),!0),P($,ct(nt,"yyyy-MM-dd"),!0);break;case"last_3_months":P(y,ct(je(v,3),"yyyy-MM-dd"),!0),P($,k,!0);break;case"this_year":P(y,ct($a(v),"yyyy-MM-dd"),!0),P($,k,!0);break;case"custom":P(B,!0);return}P(B,!1),f()}function N(){if(typeof window>"u")return;const i=new URLSearchParams;i.set("range",t(C)),t(C)==="custom"&&(i.set("start",t(y)),i.set("end",t($))),t(l).project&&i.set("project",t(l).project),t(l).country&&i.set("country",t(l).country),t(l).browser&&i.set("browser",t(l).browser),t(l).device&&i.set("device",t(l).device),t(l).os&&i.set("os",t(l).os),t(l).botFilter&&i.set("botFilter",t(l).botFilter),t(u)!=="pie"&&i.set("chart",t(u));const v=`${window.location.pathname}?${i.toString()}`;window.history.replaceState({},"",v)}function g(){if(typeof window>"u")return;const i=new URLSearchParams(window.location.search);if(i.has("range")){const K=i.get("range");K&&P(C,K,!0)}const v=i.get("project"),k=i.get("country"),I=i.get("browser"),Y=i.get("device"),nt=i.get("os"),$t=i.get("botFilter"),G=i.get("chart");v&&(t(l).project=v),k&&(t(l).country=k),I&&(t(l).browser=I),Y&&(t(l).device=Y),nt&&(t(l).os=nt),$t&&(t(l).botFilter=$t),G==="bar"&&P(u,"bar")}async function f(){P(m,!0),P(s,null);try{const i=await wa(t(y),t($),t(l));P(c,i||[],!0),P(b,new Date,!0),N()}catch(i){P(s,i?.message||"Failed to load channels",!0)}finally{P(m,!1)}}async function S(){try{P(d,await ka(),!0)}catch{}}function A(){t(M)&&clearInterval(t(M))}function U(i,v){t(l)[i]=v,f()}function T(i){t(l)[i]=null,f()}function V(){P(l,{project:null,country:null,browser:null,device:null,os:null,botFilter:null},!0),f()}let H=ba(()=>t(c).reduce((i,v)=>({total_events:i.total_events+(v.total_events||0),unique_users:i.unique_users+(v.unique_users||0),total_visits:i.total_visits+(v.total_visits||0),page_views:i.page_views+(v.page_views||0)}),{total_events:0,unique_users:0,total_visits:0,page_views:0}));Ee(()=>{g(),S(),f(),A()}),xa(()=>{t(M)&&clearInterval(t(M))});var D=jn(),E=_(L(D),2),h=L(E),w=_(L(h),2);w.__change=[tn,R],ue(w,21,()=>p,de,(i,v)=>{var k=en(),I=L(k,!0);F(k);var Y={};vt(()=>{tt(I,t(v).label),Y!==(Y=t(v).value)&&(k.value=(k.__value=t(v).value)??"")}),x(i,k)}),F(w),F(h);var st=_(h,2);{var ot=i=>{var v=rn(),k=L(v);Le(k),k.__change=[an,f];var I=_(k,4);Le(I),I.__change=[nn,f],F(v),ke(k,()=>t(y),Y=>P(y,Y)),ke(I,()=>t($),Y=>P($,Y)),x(i,v)};Tt(st,i=>{t(B)&&i(ot)})}var o=_(st,2);{var j=i=>{var v=ln(),k=_(L(v),2);k.__change=[sn,U,T];var I=L(k);I.value=I.__value="";var Y=_(I);ue(Y,17,()=>t(d),de,($t,G)=>{var K=on(),Ct=L(K,!0);F(K);var ft={};vt(()=>{tt(Ct,t(G)),ft!==(ft=t(G))&&(K.value=(K.__value=t(G))??"")}),x($t,K)}),F(k);var nt;Ce(k),F(v),vt(()=>{nt!==(nt=t(l).project||"")&&(k.value=(k.__value=t(l).project||"")??"",Fe(k,t(l).project||""))}),x(i,v)};Tt(o,i=>{t(d).length>0&&i(j)})}var at=_(o,2),dt=_(L(at),2);dt.__change=[cn,U,T];var jt=L(dt);jt.value=jt.__value="";var St=_(jt);St.value=St.__value="human";var Vt=_(St);Vt.value=Vt.__value="bot",F(dt);var Et;Ce(dt),F(at);var gt=_(at,2),Bt=_(L(gt),2),At=L(Bt);At.__click=[un,u,N];var Gt=L(At);Oa(Gt,{class:"inline h-4 w-4"}),F(At);var Dt=_(At,2);Dt.__click=[dn,u,N];var Qt=L(Dt);Ua(Qt,{class:"inline h-4 w-4"}),F(Dt),F(Bt),F(gt);var Wt=_(gt,2),ge=L(Wt);we(ge,{variant:"outline",size:"sm",onclick:()=>f(),class:"gap-2",children:(i,v)=>{var k=fn(),I=et(k);Da(I,{class:"h-4 w-4"}),Z(),x(i,k)},$$slots:{default:!0}});var Ke=_(ge,2);{var Qe=i=>{var v=pn(),k=L(v);F(v),vt(I=>tt(k,`Updated ${I??""}`),[()=>ct(t(b),"HH:mm:ss")]),x(i,v)};Tt(Ke,i=>{t(m)||i(Qe)})}F(Wt),F(E);var me=_(E,2);{var Ze=i=>{var v=yn(),k=_(L(v),2);{var I=G=>{Me(G,{variant:"secondary",class:"gap-1",children:(K,Ct)=>{Z();var ft=hn(),kt=et(ft),_t=_(kt);_t.__click=[vn,T];var Ft=L(_t);Pe(Ft,{class:"h-3 w-3"}),F(_t),vt(()=>tt(kt,`Project: ${t(l).project??""} `)),x(K,ft)},$$slots:{default:!0}})};Tt(k,G=>{t(l).project&&G(I)})}var Y=_(k,2);{var nt=G=>{Me(G,{variant:"secondary",class:"gap-1",children:(K,Ct)=>{Z();var ft=mn(),kt=et(ft),_t=_(kt);_t.__click=[gn,T];var Ft=L(_t);Pe(Ft,{class:"h-3 w-3"}),F(_t),vt(()=>tt(kt,`Traffic: ${t(l).botFilter==="bot"?"ðŸ¤– Bots Only":"ðŸ‘¤ Human Only"} `)),x(K,ft)},$$slots:{default:!0}})};Tt(Y,G=>{t(l).botFilter&&G(nt)})}var $t=_(Y,2);we($t,{variant:"ghost",size:"sm",onclick:V,children:(G,K)=>{Z();var Ct=it("Clear All");x(G,Ct)},$$slots:{default:!0}}),F(v),x(i,v)};Tt(me,i=>{Object.values(t(l)).some(v=>v!==null)&&i(Ze)})}var ta=_(me,2);{var ea=i=>{var v=_n();x(i,v)},aa=i=>{var v=ne(),k=et(v);{var I=nt=>{Ut(nt,{class:"border-destructive",children:($t,G)=>{Ot($t,{children:(K,Ct)=>{var ft=xn(),kt=et(ft);zt(kt,{class:"text-destructive",children:(Ft,mt)=>{Z();var Mt=it("Error Loading Data");x(Ft,Mt)},$$slots:{default:!0}});var _t=_(kt,2);It(_t,{children:(Ft,mt)=>{Z();var Mt=it();vt(()=>tt(Mt,t(s))),x(Ft,Mt)},$$slots:{default:!0}}),x(K,ft)},$$slots:{default:!0}})},$$slots:{default:!0}})},Y=nt=>{var $t=Tn(),G=et($t),K=L(G);Ut(K,{children:(mt,Mt)=>{Ot(mt,{class:"pb-2",children:(yt,Rt)=>{var lt=bn(),X=et(lt);It(X,{children:(O,Q)=>{Z();var z=it("Total Events");x(O,z)},$$slots:{default:!0}});var wt=_(X,2);zt(wt,{class:"text-2xl",children:(O,Q)=>{Z();var z=it();vt(J=>tt(z,J),[()=>t(H).total_events.toLocaleString()]),x(O,z)},$$slots:{default:!0}}),x(yt,lt)},$$slots:{default:!0}})},$$slots:{default:!0}});var Ct=_(K,2);Ut(Ct,{children:(mt,Mt)=>{Ot(mt,{class:"pb-2",children:(yt,Rt)=>{var lt=$n(),X=et(lt);It(X,{children:(O,Q)=>{Z();var z=it("Unique Users");x(O,z)},$$slots:{default:!0}});var wt=_(X,2);zt(wt,{class:"text-2xl",children:(O,Q)=>{Z();var z=it();vt(J=>tt(z,J),[()=>t(H).unique_users.toLocaleString()]),x(O,z)},$$slots:{default:!0}}),x(yt,lt)},$$slots:{default:!0}})},$$slots:{default:!0}});var ft=_(Ct,2);Ut(ft,{children:(mt,Mt)=>{Ot(mt,{class:"pb-2",children:(yt,Rt)=>{var lt=wn(),X=et(lt);It(X,{children:(O,Q)=>{Z();var z=it("Total Visits");x(O,z)},$$slots:{default:!0}});var wt=_(X,2);zt(wt,{class:"text-2xl",children:(O,Q)=>{Z();var z=it();vt(J=>tt(z,J),[()=>t(H).total_visits.toLocaleString()]),x(O,z)},$$slots:{default:!0}}),x(yt,lt)},$$slots:{default:!0}})},$$slots:{default:!0}});var kt=_(ft,2);Ut(kt,{children:(mt,Mt)=>{Ot(mt,{class:"pb-2",children:(yt,Rt)=>{var lt=kn(),X=et(lt);It(X,{children:(O,Q)=>{Z();var z=it("Page Views");x(O,z)},$$slots:{default:!0}});var wt=_(X,2);zt(wt,{class:"text-2xl",children:(O,Q)=>{Z();var z=it();vt(J=>tt(z,J),[()=>t(H).page_views.toLocaleString()]),x(O,z)},$$slots:{default:!0}}),x(yt,lt)},$$slots:{default:!0}})},$$slots:{default:!0}}),F(G);var _t=_(G,2);Ut(_t,{children:(mt,Mt)=>{var yt=An(),Rt=et(yt);Ot(Rt,{children:(X,wt)=>{var O=Mn(),Q=et(O);zt(Q,{children:(J,W)=>{Z();var pt=it("Channel Distribution");x(J,pt)},$$slots:{default:!0}});var z=_(Q,2);It(z,{children:(J,W)=>{Z();var pt=it();vt((Xt,Zt)=>tt(pt,`Traffic breakdown by acquisition channel for ${Xt??""} - ${Zt??""}`),[()=>ct(new Date(t(y)),"d MMM"),()=>ct(new Date(t($)),"d MMM")]),x(J,pt)},$$slots:{default:!0}}),x(X,O)},$$slots:{default:!0}});var lt=_(Rt,2);Ae(lt,{children:(X,wt)=>{var O=ne(),Q=et(O);{var z=W=>{var pt=Pn();x(W,pt)},J=W=>{Za(W,{get data(){return t(c)},get chartType(){return t(u)}})};Tt(Q,W=>{t(c).length===0?W(z):W(J,!1)})}x(X,O)},$$slots:{default:!0}}),x(mt,yt)},$$slots:{default:!0}});var Ft=_(_t,2);Ut(Ft,{children:(mt,Mt)=>{var yt=Ln(),Rt=et(yt);Ot(Rt,{children:(X,wt)=>{var O=Cn(),Q=et(O);zt(Q,{children:(J,W)=>{Z();var pt=it("Channel Breakdown");x(J,pt)},$$slots:{default:!0}});var z=_(Q,2);It(z,{children:(J,W)=>{Z();var pt=it("Detailed metrics for each traffic channel");x(J,pt)},$$slots:{default:!0}}),x(X,O)},$$slots:{default:!0}});var lt=_(Rt,2);Ae(lt,{children:(X,wt)=>{var O=Rn(),Q=L(O),z=_(L(Q));ue(z,21,()=>t(c),de,(J,W)=>{var pt=Fn(),Xt=L(pt),Zt=L(Xt),ye=L(Zt),na=_(ye);F(Zt),F(Xt);var se=_(Xt),ra=L(se,!0);F(se);var oe=_(se),sa=L(oe,!0);F(oe);var le=_(oe),oa=L(le,!0);F(le);var ie=_(le),la=L(ie,!0);F(ie);var ce=_(ie),ia=L(ce,!0);F(ce);var _e=_(ce),ca=L(_e);F(_e),F(pt),vt((ua,da,fa,pa,va,ha,ga)=>{Pa(ye,`background-color: ${ua??""};`),tt(na,` ${(t(W).channel||"Unknown")??""}`),tt(ra,da),tt(sa,fa),tt(oa,pa),tt(la,va),tt(ia,ha),tt(ca,`${ga??""}%`)},[()=>n(t(W).channel||"Unknown"),()=>t(W).total_events?.toLocaleString()||0,()=>t(W).unique_users?.toLocaleString()||0,()=>t(W).total_visits?.toLocaleString()||0,()=>t(W).page_views?.toLocaleString()||0,()=>t(W).conversion_rate?t(W).conversion_rate.toFixed(2):"0.00",()=>(t(W).total_events/t(H).total_events*100).toFixed(1)]),x(J,pt)}),F(z),F(Q),F(O),x(X,O)},$$slots:{default:!0}}),x(mt,yt)},$$slots:{default:!0}}),x(nt,$t)};Tt(k,nt=>{t(s)?nt(I):nt(Y,!1)},!0)}x(i,v)};Tt(ta,i=>{t(m)?i(ea):i(aa,!1)})}F(D),vt(()=>{Et!==(Et=t(l).botFilter||"")&&(dt.value=(dt.__value=t(l).botFilter||"")??"",Fe(dt,t(l).botFilter||"")),Re(At,1,`rounded px-3 py-1 text-xs font-medium transition-colors ${t(u)==="pie"?"bg-background shadow-sm":"hover:bg-background/50"}`),Re(Dt,1,`rounded px-3 py-1 text-xs font-medium transition-colors ${t(u)==="bar"?"bg-background shadow-sm":"hover:bg-background/50"}`)}),Ma(w,()=>t(C),i=>P(C,i)),x(e,D),Be()}_a(["change","click"]);export{Vn as component};
